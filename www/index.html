<!DOCTYPE html>
<html>
<head>
<title>InPhO Corpus Builder</title>
<script src="lib/jquery-1.11.0.min.js"></script>
<script src="lib/jquery.superdom.min.js"></script>
<script src="lib/bootstrap-2.3.2/js/bootstrap.min.js"></script>
<script src="lib/d3.v3.min.js"></script>
<script src="lib/mustache.js"></script>
<script src="lib/inpho/util.js"></script>
<!--<script src="sep.js"></script>-->
<link rel="stylesheet" type="text/css" href="lib/bootstrap-2.3.2/css/bootstrap.min.css" />
<style>
.logo-word {
  background-image: url('/img/inpho_logo.png');
  background-size: 172px 92px;
  width: 172px;
  height: 84px;
  padding-top: 6px;
  margin-top: 14px;
  margin-bottom: 5px;
  margin-left: -6px;
  display: inline-block;
  text-indent: -3000px;
}
h1 {
text-align: center;
margin-bottom: 0;
font-size: 59px;
line-height: 1;
color: inherit;
letter-spacing: -1px;

}

.btn {
  vertical-align: middle;
  margin-top: 2px;
}

#duplicates li:first-child {
  font-weight: bold;
}
#duplicates .error li:first-child {
  font-weight: normal;
}
#duplicates .success li {
  font-weight: bold;
}
.terms {
  font-style: italic;
}
.quant {
  font-style: bold;
  }
</style>
</head>

<body>
<div class="container">
  <div class="row">
  <div class="span12">
  <h1><a href="https://inpho.cogs.indiana.edu"><span class="logo-word">InPhO</span></a> Corpus Builder</h1>
  <h2>HTRC 1315 Anthropomorphism Corpus</h2>
  <p>Based on your search for <span class="terms">"anthropomorphism" "comparative psychology" "darwin"</span>, we have found the following <span class="quant">1315 volumes</span>. Using the VSM topic model for the corpus, we have determined that the following entries may be duplicates. Improve your corpus by toggling each row to either remove all in that row, select all in that row, or reduce only to the first of the duplicate set.</p>
  <p><a href="http://github.com/inpho/corpus-builder/" target="_blank">Source code</a> and <a href="http://github.com/inpho/corpus-builder/issues/" target="_blank">issue tracking</a> for this page available at <a href="http://github.com/inpho/topic-explorer/" target="_blank">GitHub</a>. Contact Jaimie Murdock (<span class="iumail">jammurdo</span>) with further comments.</p>
  <script>var mail = $('.iumail').text();
  $('.iumail').html('<a href="mailto:'+mail+'@indiana.edu">'+mail+'@indiana.edu</a>')</script>
  </div>
  </div>

  <div class="row">
  <div class="span12">
    <table class="table table-hover table-condensed" id="duplicates">
      <tbody>
        <tr>
         <td>1</td>
         <td><ul class="unstyled">
           <li data-htrcid="a1">Catalogue.</li>
           <li data-htrcid="a2">Catalogue</li>
           <li data-htrcid="a3">Catalogue,</li>
         </ul></td>
         <td>0.034</td>
        </tr>
        <tr>
         <td>2</td>
         <td><ul class="unstyled">
           <li data-htrcid="b1">Childhood development.</li>
           <li data-htrcid="b2">Childhood development: a psychological study</li>
         </ul></td>
         <td>0.112</td>
        </tr>
      </tbody>
    </table>
    <button class="btn btn-primary" onClick="gatherVolumes()">Select Volumes</button>
  </div>
  </div>
</div>
<script>
$('#duplicates tr').click(function() {
  if ($(this).hasClass('success')) {
    $(this).removeClass('success');
  } else if ($(this).hasClass('error')) {
    $(this).removeClass('error');
    $(this).addClass('success');
  } else {
    $(this).addClass('error');
  }
});

function gatherVolumes() {
  var volumes = [];
  $('#duplicates tr').each(function(i,elt) {
    if ($(this).hasClass('success')) {
      $("li", this).each(function(i,elt) {
          volumes.push($(this).data('htrcid'));
        });
    } else if ($(this).hasClass('error')) {
    } else {
      $("li:first-child", this).each(function(i,elt) {
          volumes.push($(this).data('htrcid'));
        });
    }
    });
  console.log(volumes);
  return volumes;
  }
</script>
</body>
</html>
